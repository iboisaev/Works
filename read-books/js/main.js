const doc=document;doc.addEventListener("DOMContentLoaded",(function(){doc.getElementsByTagName("body")[0],doc.querySelector(".header"),doc.querySelector(".header__menu"),doc.querySelector(".menu-burger"),doc.querySelector(".btn-up"),doc.querySelectorAll(".mode"),doc.querySelectorAll(".form"),doc.querySelector(".thanks-popup"),doc.querySelector(".popup__close");const t=doc.querySelector(".items"),e=(doc.querySelectorAll(".dropdown"),doc.querySelectorAll(".lazy-anchor"));doc.querySelectorAll(".lock-padding"),doc.querySelectorAll(".lock-margin");function o(e){const{id:o,img:n,name:r,author:c,genres:s,originalLang:i,langs:l,classes:a}=e,u=`\n\t\t\t<a href="#" class="${a}">\n\t\t\t  \t<span class="item__img ibg" style="background-image: url('${n}');">\n\t\t\t  \t\t<span class="item__cover">\n\t\t\t  \t\t\t<svg class="icon icon--view">\n\t\t\t\t\t\t\t<use xlink:href="img/icons/view.svg#view"></use>\n\t\t\t\t\t\t</svg>\n\t\t\t  \t\t</span>\n\t\t\t  \t</span>\n\t\t\t  \t<span class="item__title">${c} - "${r}"</span>\n\t\t\t</a>\n\t\t`;t.insertAdjacentHTML("beforeend",u)}e.forEach(t=>{t.addEventListener("click",(function(t){t.preventDefault();let e=this.getAttribute("href").substring(1);const o=document.getElementById(e).getBoundingClientRect().top-70;window.scrollBy({top:o,behavior:"smooth"})}))}),async function(t){const e=await fetch(t);if(!e.ok)throw new Error("Ошибка по адресу $(url), статус ошибка $(response.status)!");return await e.json()}("./json/books.json").then((function(t){t.forEach(o)}))})),$(doc).ready((function(){$("body"),$(".btn-up"),$(".nav__link"),$(".btns"),$(".popup");const t=$(".filters__title");$(".filters__btn"),$(".callback-popup"),$(".thanks-popup"),$(".popup__close");setTimeout((function(){let e=$(".books__right-title span");var o=$(".items").isotope({itemSelector:".item"}),n=o.data("isotope");t.on("click",(function(){let t=$(this).next();$(this).toggleClass("active"),t.hasClass("open")?t.fadeOut():t.fadeIn(),t.toggleClass("open")}));var r={};function c(){o.isotope("getItemElements").length;e.text(n.filteredItems.length)}$(".filters").on("click",".filters__btn",(function(t){var e=$(t.currentTarget),n=e.parents(".btn-group").attr("data-filter-group");r[n]=e.attr("data-filter");var s=function(t){var e="";for(var o in t)e+=t[o];return e}(r);o.isotope({filter:s}),c()})),$(".btn-group").each((function(t,e){var o=$(e);o.on("click","button",(function(t){o.find(".is-checked").removeClass("is-checked"),$(t.currentTarget).addClass("is-checked")}))})),c()}),1200)}));